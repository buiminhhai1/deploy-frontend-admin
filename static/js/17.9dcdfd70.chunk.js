(this["webpackJsonpreact-frontend-admin"]=this["webpackJsonpreact-frontend-admin"]||[]).push([[17],{256:function(e,t,n){"use strict";var a=n(0),r=n(3),i=n.n(r),l=n(83);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};t.a=function(e){return a.createElement(l.a,null,(function(t){var n,r=t.getPrefixCls,l=e.prefixCls,d=e.type,u=void 0===d?"horizontal":d,p=e.orientation,m=void 0===p?"center":p,f=e.className,v=e.children,h=e.dashed,b=c(e,["prefixCls","type","orientation","className","children","dashed"]),y=r("divider",l),g=m.length>0?"-".concat(m):m,C=i()(f,y,"".concat(y,"-").concat(u),(s(n={},"".concat(y,"-with-text").concat(g),v),s(n,"".concat(y,"-dashed"),!!h),n));return a.createElement("div",o({className:C},b,{role:"separator"}),v&&a.createElement("span",{className:"".concat(y,"-inner-text")},v))}))}},495:function(e,t,n){"use strict";n.r(t);var a=n(242),r=n.n(a),i=n(26),l=n(27),o=n(29),s=n(28),c=n(30),d=n(0),u=n.n(d),p=n(51),m=n(485),f=n(323),v=n(14),h=n(256),b=n(484),y=n(490),g=n(491),C=n(73),E=n(404),k=n(502),L=n(504),x=(n(68),n(81)),w=m.a.Search,O=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(o.a)(this,Object(s.a)(t).call(this,e))).handleDeleteForm=function(){var e;return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.state._id,t.next=3,r.a.awrap(n.props.onDeleteLevel(e));case 3:n.setState({visibleConfirm:!1,confirmLoading:!1});case 4:case"end":return t.stop()}}))},n.handleSubmitUpdateForm=function(){var e,t,a;return r.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(n.setState({confirmLoading:!0}),e=n.state,t=e._id,a=e.title,!t){i.next=8;break}return i.next=5,r.a.awrap(n.props.onUpdateLevel(t,a));case 5:n.setState({visible:!1,confirmLoading:!1}),i.next=11;break;case 8:return i.next=10,r.a.awrap(n.props.onCreateLevel(a));case 10:n.setState({visible:!1,confirmLoading:!1});case 11:case"end":return i.stop()}}))},n.handleCancel=function(){n.setState({visible:!1,visibleConfirm:!1})},n.onTitleChange=function(e){var t=e.target.value;n.setState({title:t})},n.addNewLevel=function(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({visible:!0,_id:"",title:"",modalName:"Add Level"});case 1:case"end":return e.stop()}}))},n.state={_id:"",title:"",modalName:"",confirmName:"Delete level",levelColumns:[{title:"Level",dataIndex:"title",key:"title",render:function(e){return u.a.createElement(f.a,{color:"geekblue",key:e},u.a.createElement("strong",null," ",e.toUpperCase()," "))}},{title:"Action",key:"action",render:function(e,t){return u.a.createElement("span",null,u.a.createElement(v.a,{type:"edit",title:"edit level",onClick:function(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.awrap(n.setState({visible:!0,_id:t._id,title:t.title,modalName:"Edit level"}));case 2:case"end":return e.stop()}}))}}),u.a.createElement(h.a,{type:"vertical"}),u.a.createElement(v.a,{type:"delete",title:"delete level",onClick:function(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.awrap(n.setState({visibleConfirm:!0,_id:t._id,title:t.title}));case 2:case"end":return e.stop()}}))}}))}}],visible:!1,visibleConfirm:!1,confirmLoading:!1},n}return Object(c.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.onGetListLevel("")}},{key:"componentDidUpdate",value:function(){this.props.onRefreshMessage(),this.props.error?this.render.actionMessage=b.a.error(this.props.message):this.props.message&&(this.render.actionMessage=b.a.success(this.props.message))}},{key:"render",value:function(){var e=this,t=this.state,n=t.visible,a=t.confirmLoading,r=t.visibleConfirm;return u.a.createElement("div",null,u.a.createElement(y.a,{style:{margin:"10px 0 20px 0"}},u.a.createElement(g.a,{span:6,offset:0},u.a.createElement(w,{placeholder:"input search text",onSearch:function(t){e.props.onGetListLevel(t)},enterButton:!0})),u.a.createElement(g.a,{span:1,offset:16},u.a.createElement(C.a,{type:"primary",onClick:this.addNewLevel},"Add"))),u.a.createElement(E.a,{spinning:this.props.loading},u.a.createElement("div",{style:{background:"white"}},u.a.createElement(k.a,{columns:this.state.levelColumns,dataSource:this.props.levelData,size:"middle"}),null,this.props.levelData?u.a.createElement("div",null,u.a.createElement(L.a,{title:this.state.modalName,visible:n,onOk:this.handleSubmitUpdateForm,confirmLoading:a,onCancel:this.handleCancel,footer:[u.a.createElement(C.a,{key:"back",onClick:this.handleCancel},"Cancel"),u.a.createElement(C.a,{key:"Block",type:"primary",onClick:this.handleSubmitUpdateForm,disabled:!this.state.title},"Save")]},u.a.createElement("div",null,u.a.createElement("div",null,"Level",u.a.createElement("span",{style:{color:"red",marginBottom:"5px"}},"*")),u.a.createElement(m.a,{placeholder:"Level",value:this.state.title,onChange:this.onTitleChange}))),u.a.createElement(L.a,{title:this.state.confirmName,visible:r,onOk:this.handleDeleteForm,confirmLoading:a,onCancel:this.handleCancel,footer:[u.a.createElement(C.a,{key:"back",onClick:this.handleCancel},"Cancel"),u.a.createElement(C.a,{key:"Block",type:"danger",onClick:this.handleDeleteForm,disabled:!this.state._id},"Delete")]},u.a.createElement("span",null,"Do you want to delete "," "+this.state.title," "))):null)))}}]),t}(d.Component);t.default=Object(p.b)((function(e){return{levelData:e.level.levelData,message:e.level.message,error:e.level.error,loading:e.level.loading}}),(function(e){return{onCreateLevel:function(t){return e(x.b(t))},onUpdateLevel:function(t,n){return e(x.E(t,n))},onDeleteLevel:function(t){return e(x.f(t))},onGetListLevel:function(t){return e(x.n(t))},onRefreshMessage:function(){return e(x.w())}}}))(O)}}]);
//# sourceMappingURL=17.9dcdfd70.chunk.js.map